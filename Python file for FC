import os

os.environ["TF_ENABLE_ONEDNN_OPTS"] = "0"

from transformers import pipeline

generator = pipeline("text-generation", model = "gpt2", framework = "pt", truncation = True, repetition_penalty = 1.5)

user_input = input("Enter a prompt for text generation:\n")

max_len = int(input("Enter the maximum length of generated text:\n"))

result = generator(user_input, max_length = max_len, num_return_sequences = 1)

print("Generated text is:\n")
print(result[0]["generated_text"])